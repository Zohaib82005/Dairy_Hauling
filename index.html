<input type="file" id="barcodeInput" accept="image/*" />
<img id="barcodeImage" style="display:none;">
<p id="output"></p>
    <script src="https://cdn.jsdelivr.net/npm/@undecaf/barcode-detector-polyfill@0.9.20/dist/index.js"></script>

<script>
document.getElementById("barcodeInput").addEventListener("change", async function (e) {
    const file = e.target.files[0];
    if (!file) return;

    const image = document.getElementById("barcodeImage");
    image.src = URL.createObjectURL(file);
    
    image.onload = async () => {
        

        const detector = new BarcodeDetector({ formats: ['code_128', 'ean_13', 'qr_code', 'upc_a'] });

        try {
            const barcodes = await detector.detect(image);
            if (barcodes.length > 0) {
                document.getElementById("output").innerText = "ğŸ“¦ Barcode: " + barcodes[0].rawValue;
            } else {
                document.getElementById("output").innerText = "âŒ No barcode found.";
            }
        } catch (err) {
            console.error("Detection error:", err);
        }
    };
});
</script>