<!DOCTYPE html>
<html>
<head>
    <title>Canvas to Image Example</title>
    <script type='text/javascript' src='http://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.4.0/fabric.min.js'></script>

    <style>
        #sheet {
            border: 1px solid black;
        }
    </style>
</head>
<body>
        <canvas id="myCanvas" width="800" height="600" style="border:1px solid #000;"></canvas>
        <button onclick="convert()">convert</button>
    <script>
        
                const canvas = document.getElementById('myCanvas');
        const ctx = canvas.getContext('2d');

                let isDrawing = false;
        let lastX = 0;
        let lastY = 0;

                    canvas.addEventListener('mousedown', (e) => {
                isDrawing = true;
                [lastX, lastY] = [e.offsetX, e.offsetY]; 
            });

            canvas.addEventListener('mousemove', (e) => {
                if (!isDrawing) return; // Stop if not drawing
                ctx.beginPath();
                ctx.moveTo(lastX, lastY); // Start from previous point
                ctx.lineTo(e.offsetX, e.offsetY); // Draw to current point
                ctx.stroke();
                [lastX, lastY] = [e.offsetX, e.offsetY]; // Update last point
            });

            canvas.addEventListener('mouseup', () => isDrawing = false);
            canvas.addEventListener('mouseout', () => isDrawing = false);

        ctx.lineWidth = 5;
        ctx.lineCap = 'round';
        ctx.strokeStyle = 'black';
function convert(){
const img = canvas.toDataURL('image/png');
    let url = img + ".png";
        console.log(url);
}
        
    </script>
</body>
</html>
